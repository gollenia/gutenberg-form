/*! For license information please see frontend.js.LICENSE.txt */
!function(){"use strict";var e={418:function(e){var n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},a=0;a<10;a++)n["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(e){return n[e]})).join(""))return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},t)).join("")}catch(e){return!1}}()?Object.assign:function(e,r){for(var i,l,d=s(e),c=1;c<arguments.length;c++){for(var o in i=Object(arguments[c]))a.call(i,o)&&(d[o]=i[o]);if(n){l=n(i);for(var u=0;u<l.length;u++)t.call(i,l[u])&&(d[l[u]]=i[l[u]])}}return d}},251:function(e,n,a){a(418);var t=a(196),s=60103;if(n.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var r=Symbol.for;s=r("react.element"),n.Fragment=r("react.fragment")}var i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,d={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,a){var t,r={},c=null,o=null;for(t in void 0!==a&&(c=""+a),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(o=n.ref),n)l.call(n,t)&&!d.hasOwnProperty(t)&&(r[t]=n[t]);if(e&&e.defaultProps)for(t in n=e.defaultProps)void 0===r[t]&&(r[t]=n[t]);return{$$typeof:s,type:e,key:c,ref:o,props:r,_owner:i.current}}n.jsx=c,n.jsxs=c},893:function(e,n,a){e.exports=a(251)},196:function(e){e.exports=window.React}},n={};function a(t){var s=n[t];if(void 0!==s)return s.exports;var r=n[t]={exports:{}};return e[t](r,r.exports,a),r.exports}a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,{a:n}),n},a.d=function(e,n){for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){var e=a(893),n=window.ReactDOM,t=a.n(n),s=window.wp.i18n,r=a(196);const i=n=>{const{value:a,label:t,placeholder:s,name:r,required:i,help:l,disabled:d,width:c,min:o,max:u,onChange:g}=n,h=["input","grid__column--span-"+c,i?"input--required":""].join(" ");return(0,e.jsxs)("div",Object.assign({className:h},{children:[(0,e.jsx)("label",{children:t}),(0,e.jsx)("input",{value:a,name:r,disabled:d,required:i,placeholder:s,autoComplete:l?"bday":"off",type:"date",max:u,min:o,onChange:e=>{g(e.target.value)}})]}))};i.defaultProps={label:"",placeholder:"",name:"",required:!1,width:6,help:!0,min:"",max:""};var l=i;const d=n=>{const{help:a,width:t,onChange:s,disabled:r,placeholder:i,required:l,toggle:d}=n,c=e=>{s(e.target.checked)},o=[d?"toggle":"checkbox","grid__column--span-"+t].join(" ");return(0,e.jsx)(e.Fragment,{children:d?(0,e.jsx)("div",Object.assign({className:o},{children:(0,e.jsxs)("label",{children:[(0,e.jsxs)("div",Object.assign({className:"toggle__control"},{children:[(0,e.jsx)("input",{defaultChecked:i,type:"checkbox",required:l,onChange:c,disabled:r}),(0,e.jsx)("span",{className:"toggle__switch"})]})),(0,e.jsx)("span",{children:a})]})})):(0,e.jsx)("div",Object.assign({className:o},{children:(0,e.jsxs)("label",{children:[(0,e.jsx)("input",{defaultChecked:i,type:"checkbox",required:l,onChange:c,disabled:r}),(0,e.jsx)("span",{children:a})]})}))})};d.defaultProps={label:"",help:"",width:6};var c=d,o=window.wp["i18n/buildTypes"];const u=n=>{const{onChange:a,lang:t,help:s,disabled:i,placeholder:l,required:d,name:c,label:u}=n,g=["select","grid__column--span-"+n.width,n.required?"select--required":""].join(" "),[h,b]=(0,r.useState)([]),[p,j]=(0,r.useState)(l);return(0,r.useEffect)((()=>{var e,a,s,r;e=void 0,a=void 0,r=function*(){const e=yield fetch(`https://countries.kids-team.com/countries/${n.region}/${t}`),a=yield e.json(),s=Object.entries(a).map((([e,n],a)=>({value:e,label:n})));b(s)},new((s=void 0)||(s=Promise))((function(n,t){function i(e){try{d(r.next(e))}catch(e){t(e)}}function l(e){try{d(r.throw(e))}catch(e){t(e)}}function d(e){var a;e.done?n(e.value):(a=e.value,a instanceof s?a:new s((function(e){e(a)}))).then(i,l)}d((r=r.apply(e,a||[])).next())}))}),[]),(0,e.jsxs)("div",Object.assign({className:g},{children:[(0,e.jsx)("label",{children:u}),(0,e.jsxs)("select",Object.assign({name:c,required:d,onChange:e=>{j(e.target.value),a(e.target.value)},disabled:i},{children:[(0,e.jsx)("option",Object.assign({value:"",disabled:!0,selected:""==p},{children:null!=s?s:(0,o.__)("Select country","gutenberg-form")})),h.map(((n,a)=>(0,e.jsx)("option",Object.assign({value:n.value,selected:p==n.value},{children:n.label}),a)))]}))]}))};u.defaultProps={label:"",placeholder:"",name:"",required:!1,width:6,region:"world"};var g=u,h=n=>{const{content:a,width:t}=n,s=["core-block","grid__column--span-"+t].join(" ");return(0,e.jsx)("div",{className:s,dangerouslySetInnerHTML:{__html:a}})};const b=n=>{const{value:a,label:t,placeholder:s,name:r,required:i,width:l,disabled:d,onChange:c}=n,o=["input","grid__column--span-"+l,i?"input--required":""].join(" ");return(0,e.jsxs)("div",Object.assign({className:o},{children:[(0,e.jsx)("label",{children:t}),(0,e.jsx)("input",{value:a,name:r,disabled:d,required:i,placeholder:s,type:"email",onChange:e=>{c(e.target.value)}})]}))};b.defaultProps={label:"",placeholder:"",name:"",required:!1,width:6};var p=b;const j=n=>{const{label:a,placeholder:t,name:s,required:i,width:l,min:d,max:c,disabled:o,range:u,hasTicks:g,hasLabels:h,onChange:b}=n,[p,j]=(0,r.useState)(t),m=(0,r.useRef)(null),f=e=>{j(parseInt(e.target.value)),b(e.target.value)},x=[u?"range":"input","range--ticks","grid__column--span-"+l,i?"input--required":""].join(" "),v={backgroundSize:100*(p-d)/(c-d)+"% 100%"};return(0,e.jsx)(e.Fragment,{children:u?(0,e.jsxs)("div",Object.assign({className:x},{children:[(0,e.jsx)("label",{children:a}),(0,e.jsxs)("div",Object.assign({className:"range__set"},{children:[(0,e.jsxs)("div",Object.assign({className:"range__control"},{children:[(0,e.jsx)("input",{value:p,name:s,required:i,disabled:o,type:"range",max:c,min:d,style:v,ref:m,onChange:f}),g&&(0,e.jsx)("div",Object.assign({className:"range__ticks"},{children:[...Array(c-d+1)].map(((n,a)=>(0,e.jsx)("div",{className:"range__tick"},a)))})),h&&(0,e.jsxs)("div",Object.assign({className:"range__labels"},{children:[(0,e.jsx)("span",Object.assign({className:"range__label"},{children:d})),(0,e.jsx)("span",Object.assign({className:"range__label"},{children:c}))]}))]})),(0,e.jsx)("span",Object.assign({className:"range__value"},{children:p}))]}))]})):(0,e.jsxs)("div",Object.assign({className:x},{children:[(0,e.jsx)("label",{children:a}),(0,e.jsx)("input",{value:p,name:s,required:i,disabled:o,type:"number",max:c,min:d,ref:m,onChange:f})]}))})};j.defaultProps={label:"",placeholder:0,name:"",required:!1,width:6,min:0,max:100,style:"input",hasLabels:!1,hasTicks:!1};var m=j;const f=n=>{const{onChange:a,options:t,name:s,disabled:i,placeholder:l}=n,d=["radio","grid__column--span-"+n.width,n.required?"select--required":""].join(" "),[c,o]=(0,r.useState)(l);return(0,e.jsx)("div",Object.assign({className:d},{children:(0,e.jsxs)("fieldset",Object.assign({name:n.name},{children:[(0,e.jsx)("legend",{children:n.label}),t.map(((n,t)=>(0,e.jsxs)("label",Object.assign({htmlFor:s+t},{children:[(0,e.jsx)("input",{checked:c===n,onChange:e=>{var n;o((n=e).target.value),a(n.target.value)},disabled:i,type:"radio",value:n,name:s,id:s+t}),n]}),t)))]}))}))};f.defaultProps={label:"",placeholder:"",name:"",required:!1,width:6,region:"world"};var x=f;const v=n=>{const{onChange:a,options:t,hasEmptyOption:r,help:i,hint:l,disabled:d,placeholder:c,multiSelect:o,required:u,label:g,name:h}=n,b=["select","grid__column--span-"+n.width,n.required?"select--required":""].join(" ");return(0,e.jsxs)("div",Object.assign({className:b},{children:[(0,e.jsx)("label",{children:g}),(0,e.jsxs)("select",Object.assign({name:h,required:u,onChange:e=>{a(e.target.value)},autoComplete:l,disabled:d,multiple:o,defaultValue:c},{children:[r&&(0,e.jsx)("option",Object.assign({value:"",disabled:!0},{children:null!=i?i:(0,s.__)("Make a selection","gutenberg-form")})),t.map(((n,a)=>(0,e.jsx)("option",{children:n},a)))]}))]}))};v.defaultProps={label:"",placeholder:"",name:"",required:!1,width:6,region:"world"};var O=v;const _=n=>{const{value:a,label:t,placeholder:s,name:i,required:l,width:d,onChange:c,disabled:o}=n,u=((0,r.useRef)(null),["input","grid__column--span-"+d,l?"input--required":""].join(" "));return(0,e.jsxs)("div",Object.assign({className:u},{children:[(0,e.jsx)("label",{children:t}),(0,e.jsx)("input",{value:a,name:i,disabled:o,required:l,placeholder:s,type:"tel",onChange:e=>{c(e.target.value)}})]}))};_.defaultProps={label:"",placeholder:"",name:"",required:!1,width:6};var y=_;const w=n=>{const{value:a,label:t,placeholder:s,name:i,required:l,width:d,rows:c,disabled:o,onChange:u}=n,g=((0,r.useRef)(null),["textarea","grid__column--span-"+d,l?"input--required":""].join(" "));return(0,e.jsxs)("div",Object.assign({className:g},{children:[(0,e.jsx)("label",{children:t}),(0,e.jsx)("textarea",{value:a,name:i,required:l,disabled:o,rows:c,placeholder:s,onChange:e=>{u(e.target.value)}})]}))};w.defaultProps={label:"",placeholder:"",name:"",required:!1,width:6,rows:3};var C=w;const S=n=>{const{value:a,label:t,placeholder:s,name:r,pattern:i,required:l,width:d,disabled:c,help:o,onChange:u}=n,g=["input","grid__column--span-"+d,l?"input--required":""].join(" ");return(0,e.jsxs)("div",Object.assign({className:g},{children:[(0,e.jsx)("label",{children:t}),(0,e.jsx)("input",{value:a,name:r,autoComplete:o,required:l,onInvalid:e=>{n.error&&e.target.setCustomValidity(n.error)},disabled:c,placeholder:s,pattern:(()=>{if(i)switch(i){case"numbers":return"[0-9\\s]+";case"letters":return"[a-zA-Z\\u00C0-\\u024F\\s]+";case"letters-dots-dashes":return"[a-zA-Z\\u00C0-\\u024F\\-\\.\\s]+";case"alphanumeric":return"[a-zA-Z0-9\\u00C0-\\u024F\\s]+";case"alphanumeric-dots-dashes":return"[a-zA-Z0-9\\u00C0-\\u024F\\-\\.\\s]+"}})(),type:"text",onChange:e=>{u(e.target.value)}})]}))};S.defaultProps={label:"",placeholder:"",name:"",required:!1,width:6};var N=S,q=n=>{const{type:a,settings:t,onChange:s,lang:r,disabled:i}=n;return(0,e.jsx)(e.Fragment,{children:((n,a)=>{switch(n){case"text":return(0,e.jsx)(N,Object.assign({},a,{onChange:s,disabled:i}));case"email":return(0,e.jsx)(p,Object.assign({},a,{onChange:s,disabled:i}));case"select":return(0,e.jsx)(O,Object.assign({},a,{onChange:s,disabled:i}));case"radio":return(0,e.jsx)(x,Object.assign({},a,{onChange:s,disabled:i}));case"date":return(0,e.jsx)(l,Object.assign({},a,{onChange:s,disabled:i}));case"number":return(0,e.jsx)(m,Object.assign({},a,{onChange:s,disabled:i}));case"textarea":return(0,e.jsx)(C,Object.assign({},a,{onChange:s,disabled:i}));case"tel":return(0,e.jsx)(y,Object.assign({},a,{onChange:s,disabled:i}));case"checkbox":return(0,e.jsx)(c,Object.assign({},a,{onChange:s,disabled:i}));case"country":return(0,e.jsx)(g,Object.assign({},a,{onChange:s,lang:r,disabled:i}));case"html":return(0,e.jsx)(h,Object.assign({},a));default:return(0,e.jsx)(e.Fragment,{})}})(a,t)})};const E=n=>{const{label:a,width:t,alignment:s,disabled:r,status:i}=n,l=["flex","grid__column--span-"+t,"flex--align-center","right"==s?"flex--justify-end":""].join(" "),d=["button","LOADED"==i?"button--primary":"","SUCCESS"==i?"button--icon button--success cursor-not-allowed":"","SUBMITTING"==i?"button--icon button--primary button--icon-animated cursor-default":""].join(" ");return(0,e.jsx)("div",Object.assign({className:l},{children:(0,e.jsx)("button",Object.assign({className:d,type:"submit",disabled:r},{children:"LOADED"==i?a:"SUCCESS"==i?(0,e.jsx)("i",Object.assign({className:"material-icons"},{children:"done"})):"SUBMITTING"==i?(0,e.jsx)("i",Object.assign({className:"material-icons"},{children:"mail"})):"ERROR"==i?(0,e.jsx)("i",Object.assign({className:"material-icons"},{children:"sentiment_dissatisfied"})):void 0}))}))};E.defaultProps={label:"",width:6};var k=E,P=n=>{const{id:a,lang:t,page:i}=n,[l,d]=(0,r.useState)("LOADING"),[c,o]=(0,r.useState)([]),[u,g]=(0,r.useState)({}),[h,b]=(0,r.useState)({}),p=(0,r.useRef)(null);if((0,r.useEffect)((()=>{a&&fetch(`/wp-json/gbf-form/v2/form/${a}`).then((e=>e.json())).then((e=>{o(e.fields),b(e.submit),d("LOADED");const n={};Object.entries(e.fields).map((([e,a])=>{n[e]=a.settings.defaultValue})),g(n)}))}),[]),0==c.length)return(0,e.jsx)(e.Fragment,{});const j=e=>{if(e.preventDefault(),"SUBMITTING"==l||"SUCCESS"==l)return;const n={fields:u,id:a,page:i};d("SUBMITTING"),fetch("/wp-json/gbf-form/v2/submit/",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{d(e.success?"SUCCESS":"ERROR")}))};if("LOADING"==l)return(0,e.jsx)(e.Fragment,{children:(0,s.__)("Form is beeing loaded","gutenberg-form")});const m=["form grid xl:grid--columns-6 grid--gap-8","LOADED"==l?"form--loaded":"","ERROR"==l?"form--error":"","SUBMITTING"==l?"form--submitting":"","SUCCESS"==l?"form--submitted":""].join(" ");return(0,e.jsxs)("form",Object.assign({className:m,ref:p,onSubmit:j},{children:[Object.entries(c).map((([n,a],s)=>(0,e.jsx)(q,{disabled:"SUBMITTING"==l,lang:t,type:a.type,settings:a.settings,onChange:e=>{g((a=>Object.assign(Object.assign({},a),{[n]:e})))}},s))),(0,e.jsx)(k,Object.assign({},h,{status:l,onClick:j}))]}))};(()=>{const n=document.getElementsByClassName("gbf-form");n.length&&Array.from(n).forEach((n=>{var a;const s=n.getAttribute("data-id"),r=n.getAttribute("data-page"),i=null!==(a=n.getAttribute("data-lang"))&&void 0!==a?a:"en";s&&r&&t().render((0,e.jsx)(P,{id:s,lang:i,page:r}),n)}))})()}()}();