/*! For license information please see frontend.js.LICENSE.txt */
!function(){"use strict";var e={418:function(e){var n=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(e){return n[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,s){for(var i,l,o=r(e),d=1;d<arguments.length;d++){for(var c in i=Object(arguments[d]))t.call(i,c)&&(o[c]=i[c]);if(n){l=n(i);for(var u=0;u<l.length;u++)a.call(i,l[u])&&(o[l[u]]=i[l[u]])}}return o}},251:function(e,n,t){t(418);var a=t(196),r=60103;if(n.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var s=Symbol.for;r=s("react.element"),n.Fragment=s("react.fragment")}var i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,o={key:!0,ref:!0,__self:!0,__source:!0};function d(e,n,t){var a,s={},d=null,c=null;for(a in void 0!==t&&(d=""+t),void 0!==n.key&&(d=""+n.key),void 0!==n.ref&&(c=n.ref),n)l.call(n,a)&&!o.hasOwnProperty(a)&&(s[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps)void 0===s[a]&&(s[a]=n[a]);return{$$typeof:r,type:e,key:d,ref:c,props:s,_owner:i.current}}n.jsx=d,n.jsxs=d},893:function(e,n,t){e.exports=t(251)},196:function(e){e.exports=window.React}},n={};function t(a){var r=n[a];if(void 0!==r)return r.exports;var s=n[a]={exports:{}};return e[a](s,s.exports,t),s.exports}t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){var e=t(893),n=window.ReactDOM,a=t.n(n),r=window.wp.i18n,s=t(196);const i=n=>{const{value:t,label:a,placeholder:r,name:s,required:i,help:l,disabled:o,width:d,min:c,max:u,onChange:b}=n,g=["input","grid__column--span-"+d,i?"input--required":""].join(" ");return(0,e.jsxs)("div",Object.assign({className:g},{children:[(0,e.jsx)("label",{children:a}),(0,e.jsx)("input",{value:t,name:s,disabled:o,required:i,placeholder:r,autoComplete:l?"bday":"off",type:"date",max:u,min:c,onChange:e=>{b(e.target.value)}})]}))};i.defaultProps={label:"",placeholder:"",name:"",required:!1,width:6,help:!0,min:"",max:""};var l=i;const o=n=>{const{label:t,help:a,width:r,onChange:s,disabled:i}=n,l=["checkbox","grid__column--span-"+r].join(" ");return(0,e.jsx)("div",Object.assign({className:l},{children:(0,e.jsxs)("label",{children:[(0,e.jsx)("input",{type:"checkbox",onChange:e=>{s(e.target.checked)},disabled:i}),a]})}))};o.defaultProps={label:"",help:"",width:6};var d=o,c=window.wp["i18n/buildTypes"];const u=n=>{const{onChange:t,lang:a,help:r,disabled:i}=n,l=["select","grid__column--span-"+n.width,n.required?"select--required":""].join(" "),[o,d]=(0,s.useState)([]);return(0,s.useEffect)((()=>{var e,t,r,s;e=void 0,t=void 0,s=function*(){const e=yield fetch(`https://countries.kids-team.com/countries/${n.region}/${a}`),t=yield e.json(),r=Object.entries(t).map((([e,n],t)=>({value:e,label:n})));d(r)},new((r=void 0)||(r=Promise))((function(n,a){function i(e){try{o(s.next(e))}catch(e){a(e)}}function l(e){try{o(s.throw(e))}catch(e){a(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}o((s=s.apply(e,t||[])).next())}))}),[]),(0,e.jsxs)("div",Object.assign({className:l},{children:[(0,e.jsx)("label",{children:n.label}),(0,e.jsxs)("select",Object.assign({name:n.name,required:n.required,onChange:e=>{t(e.target.value)},disabled:i},{children:[(0,e.jsx)("option",Object.assign({value:"",disabled:!0,selected:!0},{children:null!=r?r:(0,c.__)("Select country","gutenberg-form")})),o.map(((n,t)=>(0,e.jsx)("option",Object.assign({value:n.value},{children:n.label}),t)))]}))]}))};u.defaultProps={label:"",placeholder:"",name:"",required:!1,width:6,region:"world"};var b=u,g=n=>{const{settings:t}=n,a=["core-block","grid__column--span-"+t.width].join(" ");return(0,e.jsx)("div",{className:a,dangerouslySetInnerHTML:{__html:t.content}})};const h=n=>{const{value:t,label:a,placeholder:r,name:s,required:i,width:l,disabled:o,onChange:d}=n,c=["input","grid__column--span-"+l,i?"input--required":""].join(" ");return(0,e.jsxs)("div",Object.assign({className:c},{children:[(0,e.jsx)("label",{children:a}),(0,e.jsx)("input",{value:t,name:s,disabled:o,required:i,placeholder:r,type:"email",onChange:e=>{d(e.target.value)}})]}))};h.defaultProps={label:"",placeholder:"",name:"",required:!1,width:6};var p=h;const j=n=>{const{label:t,placeholder:a,name:r,required:i,width:l,min:o,max:d,disabled:c,range:u,style:b,onChange:g}=n,[h,p]=(0,s.useState)(a),j=[u?"range":"input","grid__column--span-"+l,i?"input--required":""].join(" ");return(0,e.jsxs)("div",Object.assign({className:j},{children:[(0,e.jsx)("label",{children:t}),(0,e.jsx)("input",{value:h,name:r,required:i,disabled:c,type:u?"range":"number",max:d,min:o,onChange:e=>{e.target.style.backgroundSize=100*(parseInt(e.target.value)-o)/(d-o)+"% 100%",p(parseInt(e.target.value)),g(e.target.value)}}),u&&(0,e.jsx)("span",Object.assign({className:"range__value"},{children:h}))]}))};j.defaultProps={label:"",placeholder:0,name:"",required:!1,width:6,min:0,max:100,style:"input"};var m=j;const f=n=>{const{onChange:t,options:a,name:r,disabled:i}=n,l=["radio","grid__column--span-"+n.width,n.required?"select--required":""].join(" "),[o,d]=(0,s.useState)(a[0]);return(0,e.jsx)("div",Object.assign({className:l},{children:(0,e.jsxs)("fieldset",Object.assign({name:n.name},{children:[(0,e.jsx)("legend",{children:n.label}),a.map(((n,a)=>(0,e.jsxs)("label",Object.assign({htmlFor:r+a},{children:[(0,e.jsx)("input",{checked:o===n,onChange:e=>{var n;d((n=e).target.value),t(n.target.value)},disabled:i,type:"radio",value:n,name:r,id:r+a}),n]}),a)))]}))}))};f.defaultProps={label:"",placeholder:"",name:"",required:!1,width:6,region:"world"};var x=f;const v=n=>{const{onChange:t,options:a,hasEmptyOption:s,help:i,hint:l,disabled:o}=n,d=["select","grid__column--span-"+n.width,n.required?"select--required":""].join(" ");return(0,e.jsxs)("div",Object.assign({className:d},{children:[(0,e.jsx)("label",{children:n.label}),(0,e.jsxs)("select",Object.assign({name:n.name,required:n.required,onChange:e=>{t(e.target.value)},autoComplete:l,disabled:o},{children:[s&&(0,e.jsx)("option",Object.assign({value:"",disabled:!0,selected:!0},{children:null!=i?i:(0,r.__)("Make a selection","gutenberg-form")})),a.map(((n,t)=>(0,e.jsx)("option",{children:n},t)))]}))]}))};v.defaultProps={label:"",placeholder:"",name:"",required:!1,width:6,region:"world"};var O=v;const y=n=>{const{value:t,label:a,placeholder:r,name:i,required:l,width:o,onChange:d,disabled:c}=n,u=((0,s.useRef)(null),["input","grid__column--span-"+o,l?"input--required":""].join(" "));return(0,e.jsxs)("div",Object.assign({className:u},{children:[(0,e.jsx)("label",{children:a}),(0,e.jsx)("input",{value:t,name:i,disabled:c,required:l,placeholder:r,type:"tel",onChange:e=>{d(e.target.value)}})]}))};y.defaultProps={label:"",placeholder:"",name:"",required:!1,width:6};var w=y;const _=n=>{const{value:t,label:a,placeholder:r,name:i,required:l,width:o,rows:d,disabled:c,onChange:u}=n,b=((0,s.useRef)(null),["textarea","grid__column--span-"+o,l?"input--required":""].join(" "));return(0,e.jsxs)("div",Object.assign({className:b},{children:[(0,e.jsx)("label",{children:a}),(0,e.jsx)("textarea",{value:t,name:i,required:l,disabled:c,rows:d,placeholder:r,onChange:e=>{u(e.target.value)}})]}))};_.defaultProps={label:"",placeholder:"",name:"",required:!1,width:6,rows:3};var C=_;const q=n=>{const{value:t,label:a,placeholder:r,name:i,required:l,width:o,disabled:d,help:c,onChange:u}=n,b=((0,s.useRef)(null),["input","grid__column--span-"+o,l?"input--required":""].join(" "));return(0,e.jsxs)("div",Object.assign({className:b},{children:[(0,e.jsx)("label",{children:a}),(0,e.jsx)("input",{value:t,name:i,autoComplete:c,required:l,disabled:d,placeholder:r,type:"text",onChange:e=>{u(e.target.value)}})]}))};q.defaultProps={label:"",placeholder:"",name:"",required:!1,width:6};var S=q,N=n=>{const{type:t,settings:a,onChange:r,lang:s,disabled:i}=n;return(0,e.jsx)(e.Fragment,{children:((n,t)=>{switch(n){case"text":return(0,e.jsx)(S,Object.assign({},t,{onChange:r,disabled:i}));case"email":return(0,e.jsx)(p,Object.assign({},t,{onChange:r,disabled:i}));case"select":return(0,e.jsx)(O,Object.assign({},t,{onChange:r,disabled:i}));case"radio":return(0,e.jsx)(x,Object.assign({},t,{onChange:r,disabled:i}));case"date":return(0,e.jsx)(l,Object.assign({},t,{onChange:r,disabled:i}));case"number":return(0,e.jsx)(m,Object.assign({},t,{onChange:r,disabled:i}));case"textarea":return(0,e.jsx)(C,Object.assign({},t,{onChange:r,disabled:i}));case"tel":return(0,e.jsx)(w,Object.assign({},t,{onChange:r,disabled:i}));case"checkbox":return(0,e.jsx)(d,Object.assign({},t,{onChange:r,disabled:i}));case"country":return(0,e.jsx)(b,Object.assign({},t,{onChange:r,lang:s,disabled:i}));case"html":return(0,e.jsx)(g,Object.assign({},t));default:return(0,e.jsx)(e.Fragment,{})}})(t,a)})};const E=n=>{const{label:t,width:a,alignment:r,disabled:s,status:i}=n,l=["flex","grid__column--span-"+a,"flex--align-center","right"==r?"flex--justify-end":""].join(" "),o=["button","LOADED"==i?"button--primary":"","SUCCESS"==i?"button--icon button--success":"","SUBMITTING"==i?"button--icon button--primary button--icon-animated":""].join(" ");return(0,e.jsx)("div",Object.assign({className:l},{children:(0,e.jsx)("button",Object.assign({className:o,type:"submit",disabled:s},{children:"LOADED"==i?t:"SUCCESS"==i?(0,e.jsx)("i",Object.assign({className:"material-icons"},{children:"done"})):"SUBMITTING"==i?(0,e.jsx)("i",Object.assign({className:"material-icons"},{children:"mail"})):"ERROR"==i?(0,e.jsx)("i",Object.assign({className:"material-icons"},{children:"error"})):void 0}))}))};E.defaultProps={label:"",width:6};var P=E,I=n=>{const{id:t,lang:a}=n,[i,l]=(0,s.useState)("LOADING"),[o,d]=(0,s.useState)([]),[c,u]=(0,s.useState)({}),[b,g]=(0,s.useState)({}),h=(0,s.useRef)(null);if((0,s.useEffect)((()=>{t&&fetch(`wp-json/gbf-form/v2/form/${t}`).then((e=>e.json())).then((e=>{d(e.fields),g(e.submit),l("LOADED");const n={};Object.entries(e).map((([e,t])=>{n[e]=t.settings.defaultValue})),u(n)}))}),[]),0==o.length)return(0,e.jsx)(e.Fragment,{});const p=e=>{e.preventDefault();const n={fields:c,id:t};l("SUBMITTING"),fetch("wp-json/gbf-form/v2/submit/",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{l(e.success?"SUCCESS":"ERROR")}))};if("LOADING"==i)return(0,e.jsx)(e.Fragment,{children:(0,r.__)("Form is beeing loaded","gutenberg-form")});const j=["form grid xl:grid--columns-6 grid--gap-8","LOADED"==i?"form--loaded":"","ERROR"==i?"form--error":"","SUBMITTING"==i?"form--submitting":"","SUBMITTED"==i?"form--submitted":""].join(" ");return(0,e.jsxs)("form",Object.assign({className:j,ref:h,onSubmit:p},{children:[Object.entries(o).map((([n,t],r)=>(0,e.jsx)(N,{disabled:"SUBMITTING"==i,lang:a,type:t.type,settings:t.settings,onChange:e=>{u((t=>Object.assign(Object.assign({},t),{[n]:e})))}},r))),(0,e.jsx)(P,Object.assign({},b,{status:i,onClick:p}))]}))};(()=>{const n=document.getElementsByClassName("gbf-form");n.length&&Array.from(n).forEach((n=>{var t;const r=n.getAttribute("data-id"),s=null!==(t=n.getAttribute("data-lang"))&&void 0!==t?t:"en";r&&a().render((0,e.jsx)(I,{id:r,lang:s}),n)}))})()}()}();